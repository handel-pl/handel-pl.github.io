<!doctype html>
<html>
  <head>
    <script src="https://unpkg.com/handel-pl"></script>
    <script src="script.js"></script>
    <style>
     body {
       font-family:  'Courier New', Courier, monospace;
       font-size: 18px;
     } 
     h1 {
       font-weight: 500;
     }
     h2 {
       font-weight: 500;
     }
     pre {
       padding: 10px;
       font-size: 15px;
       background-color: rgb(30, 30, 30);
       color: white;
       overflow: auto;
     }
     .content {
       margin-right: 150px;
       margin-left: 150px;
       padding: 10px;
       border-radius: 10px;
     }
     #handel {
       background-color: crimson;
       color: white;
       font-weight: 300;
       padding: 5px;
     }
     .runbtn {
         background-color: crimson;
         color: white;
         width: 45px;
         padding: 5px;
         border-radius: 5px;
     }
     .runbtn:hover {
        transform: scale(1.1);
        cursor: pointer;
     }
    </style>
  </head>
  <body>
    <h1 id="handel">handel</h1>
    <div class="content">
<p>Handel is a small procedural programming language for writting songs in browser. </p>
<p>The Handel Interpreter interprets Handel programs and plays compositions in browser, thanks to <a href="https://tonejs.github.io/">Tone.js</a>.</p>
<p>Try the Handel Web Editor here: <a href="https://ddj231.github.io/Handel-Web-Editor/">Handel Web Editor</a></p>
<p>Check out the Handel Github repo: <a href="https://github.com/ddj231/Handel">Handel on Github</a></p>
<p>Ask questions or showcase programs here: <a href="https://groups.google.com/g/handel-pl">forum</a></p>
<p><em>soli deo gloria</em></p>

<h1 id="installation">Installation</h1>
<p>Add the below to your html document: </p>
<pre><code><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/handel-pl"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><p>You&#39;re all set!</p>
<p><strong>Alternatively</strong> </p>
<p>Install Handel with the following: </p>
<pre><code>npm <span class="hljs-selector-tag">i</span> handel-pl
</code></pre><p>And import Handel with the following:</p>
<pre><code><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> Handel <span class="hljs-keyword">from</span> <span class="hljs-string">'handel-pl'</span>;
</code></pre>

<h1 id="usage">Usage</h1>
<h2 id="example-handel-snippet">Example Handel Snippet</h2>
<pre><code><span class="hljs-keyword">start</span>
    <span class="hljs-keyword">chunk</span> example 
        play E3, C3, G3 <span class="hljs-keyword">for</span> <span class="hljs-number">2</span>b
    endchunk
    run example <span class="hljs-keyword">with</span> sound piano, <span class="hljs-keyword">loop</span> <span class="hljs-keyword">for</span> <span class="hljs-number">5</span> 
<span class="hljs-keyword">finish</span>
</code></pre>
<div id="runone" class="runbtn">Run</div>
<p>See the Examples folder <a href="https://github.com/ddj231/Handel/tree/master/Examples">here</a> for example Handel programs and inspiration.</p>
<h2 id="example-using-handel-in-browser">Example Using Handel In Browser</h2>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clicked</span><span class="hljs-params">()</span></span>{
    RunHandel(`
        start
            chunk example using somePlayable 
                play somePlayable 
                rest <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
            endchunk
            save myPlayable = Eb3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
            run example using myPlayable <span class="hljs-keyword">with</span> sound piano, loop <span class="hljs-keyword">for</span> <span class="hljs-number">5</span> 
        finish
    `)
}
document.addEventListener(<span class="hljs-string">"click"</span>, clicked);
</code></pre>

<p>Note that you pass the Handel code into the <strong>RunHandel</strong> function <code>Handel.RunHandel(someHandelCode)</code>.</p>
<p>To compile to midi, pass a config object to the RunHandel function with <strong>outputMidi</strong> set to true. </p>
<pre><code><span class="hljs-keyword">const</span> <span class="hljs-built_in">config</span> = {outputMidi: true};
Handel.RunHandel(`start play E4 <span class="hljs-built_in">for</span> <span class="hljs-number">1</span>b finish`, <span class="hljs-built_in">config</span>);
</code></pre><p>Additionally, you can use the <strong>StopHandel</strong> function to stop a running Handel program. <code>Handel.StopHandel()</code></p>

<h1 id="getting-started">Getting started</h1>
<p>Handel programs are contained within the <strong>start</strong> and <strong>finish</strong> keywords. Below is a complete Handel program:</p>
<pre><code><span class="hljs-keyword">start</span>
    play E4 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
<span class="hljs-keyword">finish</span>
</code></pre>
<div id="runtwo" class="runbtn">Run</div>
<p>The program above only plays 1 note. But it&#39;s a start!</p>
<h1 id="let-s-play-something">Let&#39;s play something</h1>
<p>You can be play notes and chords using the play command. Below is an example program that plays a note, then a chord:</p>
<pre><code>start
    <span class="hljs-keyword">play</span> C#<span class="hljs-number">3</span> <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
    <span class="hljs-keyword">play</span> E3, G3, A4 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
finish
</code></pre>
<div id="runthree" class="runbtn">Run</div>
<p>Note the syntax above. A <strong>play</strong> command begins with the <strong>play</strong> keyword, then a note or chord (a list of notes separated by commas) follows.</p>
<p>Lastly play commands need a duration. The play commands above end with &#39;for 1b&#39;. This states how long the particular note or notelist (chord) should be held.  </p>
<p>Phew! We&#39;re getting somewhere.</p>
<h1 id="let-s-rest">Let&#39;s rest</h1>
<p>Similar to the play command, a rest can played using the rest command. Below is an example program that rests for 1 beat then plays a note for 2 beats.</p>
<pre><code><span class="hljs-keyword">start</span>
    rest <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
    play G5 <span class="hljs-keyword">for</span> <span class="hljs-number">2</span>b
<span class="hljs-keyword">finish</span>
</code></pre>
<div id="runfour" class="runbtn">Run</div>
<h1 id="but-are-there-variables-">But are there Variables?</h1>
<p>tl;dr
Here is some example usage of variables in Handel</p>
<pre><code><span class="hljs-built_in">save</span> myplayable = E4, F4, G3 <span class="hljs-keyword">for</span> 3b
<span class="hljs-built_in">save</span> myduration = <span class="hljs-keyword">for</span> 1b

play myplayable
<span class="hljs-built_in">rest</span> myduration
</code></pre><p>You can declare Variables in Handel. Variables store two builtin types in Handel: Playables and Durations.</p>
<p>We&#39;ve already seen <strong>Playables</strong> above. Playables are a note or notelist (chord) followed by a duration.
Here are some example playables.</p>
<pre><code>Bb3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
D<span class="hljs-string">#6</span>, E<span class="hljs-string">#6</span>, G3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
</code></pre><p><em>no promises that the above chord sounds pleasing to the ear :p</em></p>
<p><strong>Durations</strong> are the keyword <strong>for</strong> followed by a beat.</p>
<p>A <strong>beat</strong> is any whole number followed by the letter &#39;b&#39; </p>
<p>All together, here some example durations: </p>
<pre><code><span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
<span class="hljs-keyword">for</span> <span class="hljs-number">2</span>b
<span class="hljs-keyword">for</span> <span class="hljs-number">16</span>b
<span class="hljs-keyword">for</span> <span class="hljs-number">32</span>b
</code></pre><p>Finally variables!</p>
<p>To store a playable or a duration use the <strong>save</strong> keyword, followed by a variable name, an equal sign and a playable or a duration.</p>
<p>Variable name must contain only lowercase letters, and no numbers. Variable names must also not be any of the reserved keywords in Handel. (See the Reserved Keywords section below).</p>
<p>Below is an example program using variables.</p>
<pre><code>start
    <span class="hljs-built_in">save</span> myplayablenote = E2 <span class="hljs-keyword">for</span> 2b
    <span class="hljs-built_in">save</span> myrest = <span class="hljs-keyword">for</span> 2b

    play myplayablenote
    <span class="hljs-built_in">rest</span> myrest
    play myplayablenote
    <span class="hljs-built_in">rest</span> myrest
finish
</code></pre>
<div id="runfive" class="runbtn">Run</div>
<p>OK! So far so good!</p>
<h1 id="blocks-loops">Blocks loops</h1>
<p>Handel (v0.2.0 and greater) supports block loops.  Block loops begin with the <strong>block</strong> keyword and end with the <strong>endblock</strong> keyword and the amount of times a block should loop (a loop customization).</p>
<p>Here is an example of a block loop in Handel.</p>
<pre><code><span class="hljs-keyword">block </span>
<span class="hljs-symbol">    play</span> <span class="hljs-built_in">C3</span>, E3, G3 for <span class="hljs-number">1</span>b 
<span class="hljs-symbol">    play</span> <span class="hljs-built_in">D3</span>, <span class="hljs-built_in">F3</span>, <span class="hljs-built_in">A3</span> for <span class="hljs-number">1</span>b 
<span class="hljs-symbol">endblock</span> loop for <span class="hljs-number">10</span>
</code></pre>
<h1 id="procedures-i-thought-this-was-a-procedural-programming-language-">Procedures (I thought this was a procedural programming language?)</h1>
<p>Procedures in Handel are called chunks. You can conceptualize a <strong>chunk</strong> as a song track. When ran,
chunks play at the same time as other run chunks and the global track. Chunks must begin with the <strong>chunk</strong>
keyword and end with the <strong>endchunk</strong> keyword.</p>
<p>Below is an example program with a kick drum and a piano, playing together.</p>
<pre><code><span class="hljs-keyword">start</span>
    <span class="hljs-keyword">chunk</span> backbeat <span class="hljs-keyword">using</span> myplayable
        play myplayable 
    endchunk

    <span class="hljs-keyword">chunk</span> mykeys 
        play E3, G3, A3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
        play G3, A2, C3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
        play F3, A3, C3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
        play D3, F2, A3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
    endchunk

    run mykeys <span class="hljs-keyword">with</span> sound piano, <span class="hljs-keyword">loop</span> <span class="hljs-keyword">for</span> <span class="hljs-number">2</span>

    <span class="hljs-keyword">save</span> myplayable = A1 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b

    run backbeat <span class="hljs-keyword">using</span> myplayable <span class="hljs-keyword">with</span> sound kick, <span class="hljs-keyword">loop</span> <span class="hljs-keyword">for</span> <span class="hljs-number">8</span>
<span class="hljs-keyword">finish</span>
</code></pre>
<div id="runsix" class="runbtn">Run</div>
<p>Both the &#39;backbeat&#39; chunk and the &#39;mykeys&#39; chunk above play together (not one after the other). This
behavior allows multitrack songs to be created with Handel. </p>
<h1 id="more-on-procedures-chunks-and-their-syntax">More on procedures (chunks) and their syntax</h1>
<h2 id="procedure-declaration-creating-chunks-">Procedure declaration (creating chunks)</h2>
<p>As noted above you can create chunks with the <strong>chunk</strong> keyword. The name of the <strong>chunk</strong> (the chunk name) follows the keyword.</p>
<p>This chunk name must be all lowercase letters, no numbers and cannot be one of Handel&#39;s reserved keywords. (See the Reserved Keywords section below).</p>
<p>After the chunk name, you can optionally add parameters. A list of comma separated parameters can follow the <strong>using</strong> keyword.</p>
<p>Together you get the following: <code>chunk somechunkname using someparam, anotherparam</code></p>
<p>After the optional parameter list, you can add a body to the chunk. This is a function body (what you would like to happen when the chunk is ran).</p>
<p>Lastly the chunk must be ended with the <strong>endchunk</strong> keyword.</p>
<h2 id="running-procedures">Running Procedures</h2>
<p>You can run a chunk using the <strong>run</strong> keyword.</p>
<p>To run a chunk use the <strong>run</strong> command followed by the name of the chunk. </p>
<p>If the chunk has parameters, a you must use a matching number of comma separated arguments.</p>
<p>Here is an example running two chunks. One chunk requires arguments the other does not.</p>
<pre><code><span class="hljs-keyword">start</span>
    <span class="hljs-keyword">chunk</span> noargs
        play C3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
    endchunk

    <span class="hljs-keyword">chunk</span> withtwoargs <span class="hljs-keyword">using</span> argone, argtwo
        play argone
        play argtwo
    endchunk

    run noargs
    <span class="hljs-keyword">save</span> somevar = Cb4 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
    run withtwoargs <span class="hljs-keyword">using</span> E3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b,  somevar
<span class="hljs-keyword">finish</span>
</code></pre>
<div id="runseven" class="runbtn">Run</div>
<p>Note that saved variables, playables, or durations, can be used as arguments when running a chunk.</p>
<p>OK! Now to configuring a run of a chunk.</p>
<h2 id="configuring-a-run-of-a-chunk">Configuring a run of a chunk</h2>
<p>You can configure a run of chunk by adding the <strong>with</strong> keyword and a comma separated list of customizations to the end of a run command.</p>
<p>There are three main customizations: <strong>bpm</strong>, <strong>sound</strong>, and <strong>loop</strong>.</p>
<p>You can use <strong>bpm</strong> keyword to set the bpm of a run of a chunk.</p>
<p>For example <code>bpm 120</code></p>
<p>You can use the <strong>sound</strong> keyword to set the instrument of a run of a chunk.</p>
<p>For example <code>sound piano</code></p>
<p>The current available sounds to choose from are: piano, synth, casio, kick, snare, hihat</p>
<p>You can use the <strong>loop</strong> keyword to set the amount of times the run of a chunk shoud loop for.</p>
<p>For example <code>loop for 10</code></p>
<p>All together you can configure a run of a chunk as follows:</p>
<pre><code><span class="hljs-keyword">start</span>
    <span class="hljs-keyword">chunk</span> withargs <span class="hljs-keyword">using</span> somechord 
        play somechord 
    endchunk

    run withargs <span class="hljs-keyword">using</span> E3, G3, F3 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b <span class="hljs-keyword">with</span> bpm <span class="hljs-number">100</span>, <span class="hljs-keyword">loop</span> <span class="hljs-keyword">for</span> <span class="hljs-number">8</span>, sound piano 
<span class="hljs-keyword">finish</span>
</code></pre>
<div id="runeight" class="runbtn">Run</div>
<p>Above we&#39;ve got a chord, played with a piano, looping 8 times, with a bpm of 100!</p>
<h1 id="reference">Reference</h1>
<p><strong>Note</strong>: A musical note. 7 octaves are available.
</p>
<pre><code><span class="hljs-attribute">C3</span>
Eb2
G<span class="hljs-comment">#7</span>
</code></pre><p><strong>Notelist</strong>: A list of notes. Together this list of notes forms a chord. (6 notes maximum).
</p>
<pre><code>C<span class="hljs-number">2</span>, E<span class="hljs-number">2</span>, <span class="hljs-name">G2</span>
C<span class="hljs-number">4</span>, Eb<span class="hljs-number">4</span>, G<span class="hljs-attr">#3</span>
</code></pre><p><strong>Beat</strong>: A number of beats. A whole number followed by the character &#39;b&#39;.
</p>
<pre><code><span class="hljs-number">1</span>b
<span class="hljs-number">20</span>b
</code></pre><p><strong>Duration</strong>: An expression that represents the amount of beats to play or hold for.
</p>
<pre><code><span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
<span class="hljs-keyword">for</span> <span class="hljs-number">2</span>b
</code></pre><p><strong>Playable</strong>: A note or a notelist, followed by a duration. 
</p>
<pre><code>C1, F1, E1, D1, <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
D1 <span class="hljs-keyword">for</span> <span class="hljs-number">2</span>b
</code></pre><p><strong>play</strong>: A command to play a note or notelist for a given duration. 
    Play commands can also take a loop customization.</p>
<pre><code><span class="hljs-symbol">play</span> <span class="hljs-built_in">C1</span>, <span class="hljs-built_in">F1</span>, E1, <span class="hljs-built_in">D1</span>, for <span class="hljs-number">1</span>b
<span class="hljs-symbol">play</span> <span class="hljs-built_in">D1</span> for <span class="hljs-number">2</span>b loop for 5
</code></pre><p><strong>rest</strong>: A command to rest for a given duration.
</p>
<pre><code><span class="hljs-built_in">rest</span> <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
<span class="hljs-built_in">rest</span> <span class="hljs-keyword">for</span> <span class="hljs-number">2</span>b
</code></pre><p><strong>save</strong>: A command to save a variable (see above section on variables for more details). Only playabes and durations can be saved in variables.
</p>
<pre><code><span class="hljs-keyword">save</span> myplayable = e2 <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
<span class="hljs-keyword">save</span> myduration = <span class="hljs-keyword">for</span> <span class="hljs-number">1</span>b
</code></pre>
<p><strong>block</strong>: Used to declare a loop. (see above section on block loops for more details)</p>
<pre><code><span class="hljs-built_in">block</span>
    play Gb3 <span class="hljs-keyword">for</span> 2b
    <span class="hljs-built_in">rest</span> <span class="hljs-keyword">for</span> 2b
endblock loop <span class="hljs-keyword">for</span> <span class="hljs-number">10</span>
</code></pre><p></p>
<p><strong>chunk</strong>: used to declare a procedure. (see above section on procedures for more details)
</p>
<pre><code>chunk mybassline
    <span class="hljs-keyword">play</span> G1 <span class="hljs-keyword">for</span> <span class="hljs-number">2</span>b
endchunk
</code></pre><p><strong>using</strong>: Used to prepend a list of paramaters for a chunk.</p>
<pre><code>chunk mypiano <span class="hljs-keyword">using</span> nicechord
    play nicechord 
endchunk
</code></pre><p><strong>run</strong>: Used to run a chunk. (see above section on running procedures for more details).
</p>
<pre><code><span class="hljs-built_in">run</span> mypiano <span class="hljs-keyword">using</span> E2, C#<span class="hljs-number">2</span> <span class="hljs-built_in">for</span> <span class="hljs-number">1</span>b
</code></pre><p><strong>with</strong>: Used to customize a given run of a chunk. (see section on procedures above for more details)</p>
<pre><code><span class="hljs-built_in">run</span> mybassline <span class="hljs-keyword">with</span> bpm <span class="hljs-number">115</span>
</code></pre><p><strong>bpm</strong> (beats per minute), <strong>loop</strong>, sound: Follows the <strong>with</strong> keyword. Used to customize a run of a chunk.</p>
<pre><code>run mybassline <span class="hljs-keyword">with</span> bpm <span class="hljs-number">90</span>, <span class="hljs-keyword">loop</span> <span class="hljs-keyword">for</span> <span class="hljs-number">2</span>, sound kick
</code></pre><p><strong>Sounds</strong>: possible sounds that can be used to customize a run of a chunk. (piano, synth, casio, kick, snare, hihat)</p>

<pre><code>piano 
synth 
casio 
kick
snare 
hihat</code></pre>

<h1 id="reserved-keywords">Reserved Keywords</h1>
<h3 id="start">start</h3>
<h3 id="finish">finish</h3>
<h3 id="play">play</h3>
<h3 id="rest">rest</h3>
<h3 id="save">save</h3>
<h3 id="block">block</h3>
<h3 id="endblock">endblock</h3>
<h3 id="chunk">chunk</h3>
<h3 id="endchunk">endchunk</h3>
<h3 id="using">using</h3>
<h3 id="run">run</h3>
<h3 id="with">with</h3>
<h3 id="bpm">bpm</h3>
<h3 id="loop">loop</h3>
<h3 id="sound">sound</h3>
<h3 id="piano">piano</h3>
<h3 id="synth">synth</h3>
<h3 id="casio">casio</h3>
<h3 id="guitar">guitar</h3>
<h3 id="kick">kick</h3>
<h3 id="snare">snare</h3>
<p>All note names are reserved keywords, ex. <strong>C4</strong>, <strong>Bb1</strong>. 
For this reason use only lowercase letters with no numbers in variable names.</p>
</div>

  </body>
</html>